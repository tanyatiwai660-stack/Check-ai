<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Universal AI Master Agent</title>

<style>
/* ‡§Ü‡§™‡§ï‡§æ ‡§™‡§∏‡§Ç‡§¶‡§¶‡•Ä‡§¶‡§æ ‡§°‡§æ‡§∞‡•ç‡§ï ‡§•‡•Ä‡§Æ ‡§î‡§∞ ‡§≤‡•á‡§Ü‡§â‡§ü */
body{
  font-family: Arial, system-ui;
  max-width: 900px;
  margin: 10px auto;
  padding: 12px;
  background-color: #f4f4f4;
}
#log{
  white-space: pre-wrap;
  background: #0b1220;
  color: #e6ffd9;
  padding: 15px;
  border-radius: 6px;
  height: 60vh;
  overflow: auto;
  font-size: 14px;
  border: 1px solid #333;
  box-shadow: inset 0 0 10px #000;
}
.input-area {
  background: white;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  margin-top: 15px;
  display: flex;
  gap: 10px;
}
input[type=text]{
  flex: 1;
  padding: 12px;
  border-radius: 5px;
  border: 1px solid #999;
  font-size: 16px;
}
button{
  padding: 12px 20px;
  background: #2ecc71;
  color: white;
  border-radius: 5px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  font-size: 16px;
}
button:disabled { background: #95a5a6; }
.status-bar { font-size: 11px; color: #666; margin-top: 5px; text-align: right; }
</style>
</head>

<body>

<h2>üöÄ Universal AI Chat (Works 100%)</h2>

<div id="log">System Ready. Internet Connected.
Type 'Hi' to start...</div>

<div class="input-area">
  <input type="text" id="userInput" placeholder="Yahan sawal likhein...">
  <button id="startBtn">SEND</button>
</div>
<div class="status-bar">Powered by Pollinations AI (No Key)</div>

<script>
const logBox = document.getElementById("log");
const userInput = document.getElementById("userInput");
const startBtn = document.getElementById("startBtn");

// Log Function (Auto Scroll ke saath)
function log(role, t){
  const label = role === 'user' ? "üë§ AAP: " : "ü§ñ AI: ";
  const color = role === 'user' ? "#3498db" : "#2ecc71";
  
  // HTML Formatting for colors
  logBox.innerHTML += `<br><strong style="color:${color}">${label}</strong> ${t}<br>${"-".repeat(50)}`;
  logBox.scrollTop = logBox.scrollHeight;
}

// ‚úÖ NEW LOGIC: Direct Fetch (No Library Needed)
async function callAI(text){
  try {
    // ‡§π‡§Æ URL encoding ‡§ï‡§æ ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§∏‡•ç‡§™‡•á‡§∂‡§≤ ‡§ï‡•à‡§∞‡•á‡§ï‡•ç‡§ü‡§∞ ‡§≠‡•Ä ‡§ö‡§≤‡•á
    const safeText = encodeURIComponent(text + " (Answer in Hindi/Hinglish)");
    
    // ‡§Ø‡§π ‡§∏‡•Ä‡§ß‡§æ Pollinations ‡§ï‡•á ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§∏‡•á ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
    const response = await fetch(`https://text.pollinations.ai/${safeText}?model=openai`);
    
    if (!response.ok) throw new Error("Server Error");
    
    const data = await response.text();
    return data;
    
  } catch(e) {
    return "‚ùå Error: Internet connection check karein.";
  }
}

startBtn.onclick = async ()=>{
  const val = userInput.value.trim();
  if(!val) return;

  // 1. UI Lock karein
  userInput.value = "";
  startBtn.disabled = true;
  startBtn.textContent = "Soch raha hu...";
  
  // 2. User ka message dikhayein
  log("user", val);
  
  // 3. AI ko call karein (Delay hataya taki fast ho)
  const out = await callAI(val);
  
  // 4. AI ka jawab dikhayein
  log("ai", out);
  
  // 5. Unlock karein
  startBtn.textContent = "SEND";
  startBtn.disabled = false;
  userInput.focus();
};

// Enter key dabane par send ho
userInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") startBtn.click();
});
</script>

</body>
</html>
